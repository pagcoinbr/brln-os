# Boltz Backend Configuration Template for BRLN-OS
# This file is used as a template during installation
# The actual configuration is generated in /home/boltz-backend/.boltz/boltz.conf
#
# Documentation: https://github.com/BoltzExchange/boltz-backend

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
[postgres]
host = "127.0.0.1"
port = 5432
database = "brln_swaps"
username = "brln-api"
password = "${POSTGRES_PASSWORD}"  # Replaced during installation

# ============================================================================
# BITCOIN CONFIGURATION
# ============================================================================
[currencies.BTC]
symbol = "BTC"
network = "${BITCOIN_NETWORK}"  # mainnet or testnet
host = "127.0.0.1"
port = ${BTC_RPC_PORT}  # 8332 (mainnet) or 18332 (testnet)
cookie = "${HOME}/.bitcoin/${BITCOIN_NETWORK}/.cookie"

# ============================================================================
# LIGHTNING (LND) CONFIGURATION
# ============================================================================
[lnd.BTC]
host = "127.0.0.1"
port = ${LND_GRPC_PORT}  # 10009 (default)
certpath = "/home/lnd/.lnd/tls.cert"
macaroonpath = "/home/lnd/.lnd/data/chain/bitcoin/${BITCOIN_NETWORK}/admin.macaroon"

# ============================================================================
# LIQUID/ELEMENTS CONFIGURATION
# ============================================================================
[currencies.L-BTC]
symbol = "L-BTC"
network = "liquid${BITCOIN_NETWORK}"  # liquidmainnet or liquidtestnet
host = "127.0.0.1"
port = ${LIQUID_RPC_PORT}  # 7041 (mainnet) or 18884 (testnet)
cookie = "${HOME}/.elements/liquid${BITCOIN_NETWORK}/.cookie"

# ============================================================================
# TRADING PAIRS CONFIGURATION
# ============================================================================

# BTC on-chain to BTC on-chain (submarine swap)
[pairs.BTC/BTC]
rate = 1  # 1:1 exchange rate
fee = 0.001  # 0.1% fee
timeoutDelta = 288  # ~48 hours (Bitcoin blocks)

# L-BTC to BTC (chain swap)
[pairs."L-BTC/BTC"]
rate = 1
fee = 0.001  # 0.1% fee
timeoutDelta = 144  # ~24 hours (144 Liquid blocks)

# L-BTC to L-BTC (submarine swap on Liquid)
[pairs."L-BTC/L-BTC"]
rate = 1
fee = 0.0005  # 0.05% fee (lower for Liquid - faster blocks)
timeoutDelta = 144  # ~2.4 hours (Liquid blocks)

# ============================================================================
# API CONFIGURATION
# ============================================================================
[api]
host = "127.0.0.1"
port = 9001

# ============================================================================
# NOTIFICATION CONFIGURATION (Optional)
# ============================================================================
[notification]
# Discord webhook for swap notifications (optional)
# discordUrl = "https://discord.com/api/webhooks/..."

# Telegram bot for notifications (optional)
# telegramBot = "bot_token"
# telegramChatId = "chat_id"

# ============================================================================
# BACKUP CONFIGURATION (Optional)
# ============================================================================
[backup]
# Backup interval in seconds (86400 = 24 hours)
# interval = 86400

# Email for backup notifications
# email = "admin@example.com"

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
[logging]
# Log level: error, warn, info, verbose, debug
level = "info"

# ============================================================================
# ADVANCED SETTINGS (Use with caution)
# ============================================================================

# Swap expiry configuration
[swap]
# Default swap expiry in minutes
# defaultExpiry = 30

# Maximum swap amount (satoshis)
# maxSwapAmount = 100000000  # 1 BTC

# Minimum swap amount (satoshis)
# minSwapAmount = 10000  # 10,000 sats

# Fee estimation
[fees]
# How many blocks for fee estimation
# blocks = 2

# ============================================================================
# NOTES
# ============================================================================
#
# - All paths use BRLN-OS default locations
# - Cookie authentication is preferred over rpcuser/rpcpassword
# - Fee is percentage of swap amount (0.001 = 0.1%)
# - timeoutDelta is in blocks (not time)
# - For testnet, all services must be running in testnet mode
# - Boltz backend will create database tables automatically
#
# ============================================================================
